EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Device:LED D2
U 1 1 61C80D07
P 5150 3800
F 0 "D2" V 5189 3682 50  0000 R CNN
F 1 "LED" V 5098 3682 50  0000 R CNN
F 2 "" H 5150 3800 50  0001 C CNN
F 3 "~" H 5150 3800 50  0001 C CNN
	1    5150 3800
	0    -1   -1   0   
$EndComp
$Comp
L Device:R_US R5
U 1 1 61C80CDD
P 3450 5350
F 0 "R5" V 3655 5350 50  0000 C CNN
F 1 "6.8k" V 3564 5350 50  0000 C CNN
F 2 "" V 3490 5340 50  0001 C CNN
F 3 "~" H 3450 5350 50  0001 C CNN
	1    3450 5350
	0    -1   -1   0   
$EndComp
Text Notes 7450 7500 0    50   ~ 10
NPN
Text Notes 7600 7500 0    50   ~ 10
 [ https://wiki.analog.com/university/courses/eps/bjt-switch ]
Text Notes 8200 7650 0    50   ~ 10
24 Dec 2021  17:40:45z
$Comp
L Switch:SW_SPDT SW_B-1
U 1 1 61CE8DC0
P 2850 5350
F 0 "SW_B-1" H 2650 5150 50  0000 C CNN
F 1 "SW_SPDT" H 2800 6350 50  0001 C CNN
F 2 "" H 2850 5350 50  0001 C CNN
F 3 "~" H 2850 5350 50  0001 C CNN
	1    2850 5350
	-1   0    0    -1  
$EndComp
Wire Wire Line
	3050 5350 3300 5350
$Comp
L power:GNDREF #PWR?
U 1 1 61D1034A
P 2350 5900
F 0 "#PWR?" H 2350 5650 50  0001 C CNN
F 1 "GNDREF" H 2355 5727 50  0001 C CNN
F 2 "" H 2350 5900 50  0001 C CNN
F 3 "" H 2350 5900 50  0001 C CNN
	1    2350 5900
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 61C80D01
P 2350 4800
F 0 "#PWR?" H 2350 4650 50  0001 C CNN
F 1 "+3.3V" H 2365 4973 50  0000 C CNN
F 2 "" H 2350 4800 50  0001 C CNN
F 3 "" H 2350 4800 50  0001 C CNN
	1    2350 4800
	1    0    0    -1  
$EndComp
Wire Wire Line
	2650 5250 2350 5250
Wire Wire Line
	2350 5250 2350 5200
Wire Wire Line
	2650 5450 2350 5450
Wire Wire Line
	2350 5450 2350 5500
$Comp
L Device:LED D_B-1
U 1 1 61E20E38
P 10200 2000
F 0 "D_B-1" V 10239 1882 50  0000 R CNN
F 1 "LED" V 10148 1882 50  0000 R CNN
F 2 "" H 10200 2000 50  0001 C CNN
F 3 "~" H 10200 2000 50  0001 C CNN
	1    10200 2000
	0    -1   -1   0   
$EndComp
$Comp
L Device:R_US R_B-1
U 1 1 61E20E3E
P 10200 1600
F 0 "R_B-1" H 10300 1700 50  0000 L CNN
F 1 "150" H 10300 1500 50  0000 L CNN
F 2 "" V 10240 1590 50  0001 C CNN
F 3 "~" H 10200 1600 50  0001 C CNN
	1    10200 1600
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 61E20E44
P 10200 1300
F 0 "#PWR?" H 10200 1150 50  0001 C CNN
F 1 "+5V" H 10215 1473 50  0000 C CNN
F 2 "" H 10200 1300 50  0001 C CNN
F 3 "" H 10200 1300 50  0001 C CNN
	1    10200 1300
	1    0    0    -1  
$EndComp
Wire Wire Line
	10200 1300 10200 1450
Wire Wire Line
	10200 2150 10200 2250
Wire Wire Line
	10200 1750 10200 1850
$Comp
L Device:Amperemeter_AC MES_B-1
U 1 1 61E2793C
P 10200 2450
F 0 "MES_B-1" H 10600 2500 50  0000 C CNN
F 1 "20.959 mA" H 10800 2350 50  0000 R CNN
F 2 "" V 10200 2550 50  0001 C CNN
F 3 "~" V 10200 2550 50  0001 C CNN
	1    10200 2450
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 61E27942
P 10200 2650
F 0 "#PWR?" H 10200 2400 50  0001 C CNN
F 1 "GNDREF" H 10205 2477 50  0001 C CNN
F 2 "" H 10200 2650 50  0001 C CNN
F 3 "" H 10200 2650 50  0001 C CNN
	1    10200 2650
	1    0    0    -1  
$EndComp
$Comp
L Device:Voltmeter_DC MES_5
U 1 1 61E345A0
P 5900 3800
F 0 "MES_5" H 6053 3846 50  0000 L CNN
F 1 "1.817 V" H 6053 3755 50  0000 L CNN
F 2 "" V 5900 3900 50  0001 C CNN
F 3 "~" V 5900 3900 50  0001 C CNN
	1    5900 3800
	1    0    0    -1  
$EndComp
Wire Wire Line
	5150 3550 5900 3550
Wire Wire Line
	5900 3550 5900 3600
Wire Wire Line
	5150 3550 5150 3650
Wire Wire Line
	5150 3950 5150 4050
Wire Wire Line
	5150 4050 5900 4050
Wire Wire Line
	5900 4050 5900 4000
Connection ~ 5150 4050
Wire Wire Line
	5150 4050 5150 4100
Text Notes 7950 6900 0    50   ~ 10
Darlington NPN \n24 Dec 2021  17:40:45z
$Comp
L Transistor_BJT:2N3904 Q_C-1
U 1 1 61E9ABBA
P 10100 5650
F 0 "Q_C-1" H 10350 5700 50  0000 L CNN
F 1 "2N3904" H 10350 5550 50  0000 L CNN
F 2 "Package_TO_SOT_THT:TO-92_Inline" H 10300 5575 50  0001 L CIN
F 3 "https://www.onsemi.com/pub/Collateral/2N3903-D.PDF" H 10100 5650 50  0001 L CNN
	1    10100 5650
	1    0    0    -1  
$EndComp
$Comp
L Device:LED D_C-1
U 1 1 61E9ABC0
P 10200 5150
F 0 "D_C-1" V 10239 5032 50  0000 R CNN
F 1 "LED" V 10148 5032 50  0000 R CNN
F 2 "" H 10200 5150 50  0001 C CNN
F 3 "~" H 10200 5150 50  0001 C CNN
	1    10200 5150
	0    -1   -1   0   
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 61E9ABC6
P 10200 6150
F 0 "#PWR?" H 10200 5900 50  0001 C CNN
F 1 "GNDREF" H 10205 5977 50  0001 C CNN
F 2 "" H 10200 6150 50  0001 C CNN
F 3 "" H 10200 6150 50  0001 C CNN
	1    10200 6150
	1    0    0    -1  
$EndComp
$Comp
L Device:R_US R_C-2
U 1 1 61E9ABCC
P 10200 4700
F 0 "R_C-2" H 10300 4800 50  0000 L CNN
F 1 "150" H 10300 4600 50  0000 L CNN
F 2 "" V 10240 4690 50  0001 C CNN
F 3 "~" H 10200 4700 50  0001 C CNN
	1    10200 4700
	1    0    0    -1  
$EndComp
$Comp
L Device:R_US R_C-1
U 1 1 61E9ABD2
P 9600 5650
F 0 "R_C-1" V 9805 5650 50  0000 C CNN
F 1 "6.8k" V 9714 5650 50  0000 C CNN
F 2 "" V 9640 5640 50  0001 C CNN
F 3 "~" H 9600 5650 50  0001 C CNN
	1    9600 5650
	0    -1   -1   0   
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 61E9ABD8
P 10200 4400
F 0 "#PWR?" H 10200 4250 50  0001 C CNN
F 1 "+5V" H 10215 4573 50  0000 C CNN
F 2 "" H 10200 4400 50  0001 C CNN
F 3 "" H 10200 4400 50  0001 C CNN
	1    10200 4400
	1    0    0    -1  
$EndComp
Wire Wire Line
	9200 5650 9450 5650
$Comp
L power:GNDREF #PWR?
U 1 1 61E9ABE6
P 9200 6150
F 0 "#PWR?" H 9200 5900 50  0001 C CNN
F 1 "GNDREF" H 9205 5977 50  0001 C CNN
F 2 "" H 9200 6150 50  0001 C CNN
F 3 "" H 9200 6150 50  0001 C CNN
	1    9200 6150
	1    0    0    -1  
$EndComp
$Comp
L Simulation_SPICE:VPULSE Pulsed_A
U 1 1 61E9AC0D
P 9200 5850
F 0 "Pulsed_A" H 8700 5650 50  0000 L CNN
F 1 "3.3 Vmax" H 8750 6000 50  0000 L CNN
F 2 "" H 9200 5850 50  0001 C CNN
F 3 "~" H 9200 5850 50  0001 C CNN
F 4 "Y" H 9200 5850 50  0001 L CNN "Spice_Netlist_Enabled"
F 5 "V" H 9200 5850 50  0001 L CNN "Spice_Primitive"
F 6 "pulse(0 1 2n 2n 2n 50n 100n)" H 9330 5759 50  0001 L CNN "Spice_Model"
	1    9200 5850
	1    0    0    -1  
$EndComp
Wire Wire Line
	10200 5850 10200 6150
Wire Wire Line
	9200 6050 9200 6150
Wire Wire Line
	9750 5650 9900 5650
Wire Wire Line
	10200 5300 10200 5450
Wire Wire Line
	10200 4850 10200 5000
Wire Wire Line
	10200 4400 10200 4550
$Comp
L Transistor_Array:ULN2803A U1
U 1 1 61C69461
P 4450 5550
F 0 "U1" H 4450 6117 50  0000 C CNN
F 1 "ULN2803A" H 4450 6026 50  0000 C CNN
F 2 "" H 4500 4900 50  0001 L CNN
F 3 "http://www.ti.com/lit/ds/symlink/uln2803a.pdf" H 4550 5350 50  0001 C CNN
	1    4450 5550
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 61C983DC
P 4450 6650
F 0 "#PWR?" H 4450 6400 50  0001 C CNN
F 1 "GNDREF" H 4455 6477 50  0001 C CNN
F 2 "" H 4450 6650 50  0001 C CNN
F 3 "" H 4450 6650 50  0001 C CNN
	1    4450 6650
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 61CBC9DB
P 4900 4950
F 0 "#PWR?" H 4900 4800 50  0001 C CNN
F 1 "+5V" H 4915 5123 50  0000 C CNN
F 2 "" H 4900 4950 50  0001 C CNN
F 3 "" H 4900 4950 50  0001 C CNN
	1    4900 4950
	1    0    0    -1  
$EndComp
Wire Wire Line
	4900 4950 4900 5250
Wire Wire Line
	4900 5250 4850 5250
$Comp
L Device:Voltmeter_DC MES_10
U 1 1 61CC81A3
P 4450 4700
F 0 "MES_10" V 4650 4950 50  0000 L CNN
F 1 "675.371 mV" V 4650 4300 50  0000 L CNN
F 2 "" V 4450 4800 50  0001 C CNN
F 3 "~" V 4450 4800 50  0001 C CNN
	1    4450 4700
	0    1    -1   0   
$EndComp
Wire Wire Line
	4250 4700 3850 4700
Wire Wire Line
	3850 4700 3850 5350
Wire Wire Line
	3850 5350 4050 5350
Wire Wire Line
	5150 4700 4650 4700
Wire Wire Line
	4850 5350 5150 5350
Wire Wire Line
	5150 5350 5150 4700
Wire Wire Line
	5150 4500 5150 4700
Connection ~ 5150 4700
$Comp
L Transistor_BJT:2N3906 Q1
U 1 1 61D6252F
P 5050 2600
F 0 "Q1" H 5240 2554 50  0000 L CNN
F 1 "2N3906" H 5240 2645 50  0000 L CNN
F 2 "Package_TO_SOT_THT:TO-92_Inline" H 5250 2525 50  0001 L CIN
F 3 "https://www.onsemi.com/pub/Collateral/2N3906-D.PDF" H 5050 2600 50  0001 L CNN
	1    5050 2600
	1    0    0    1   
$EndComp
Connection ~ 5150 3550
Wire Wire Line
	5150 3400 5150 3550
Wire Wire Line
	5150 2100 5150 2300
$Comp
L power:+5V #PWR?
U 1 1 61C5C18F
P 5150 2100
F 0 "#PWR?" H 5150 1950 50  0001 C CNN
F 1 "+5V" H 5165 2273 50  0000 C CNN
F 2 "" H 5150 2100 50  0001 C CNN
F 3 "" H 5150 2100 50  0001 C CNN
	1    5150 2100
	1    0    0    -1  
$EndComp
$Comp
L Device:R_US R4
U 1 1 61C80CE3
P 5150 3250
F 0 "R4" H 5250 3350 50  0000 L CNN
F 1 "150" H 5250 3150 50  0000 L CNN
F 2 "" V 5190 3240 50  0001 C CNN
F 3 "~" H 5150 3250 50  0001 C CNN
	1    5150 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	5150 2800 5150 2900
Wire Wire Line
	3900 2600 3900 2200
$Comp
L Device:R_US R2
U 1 1 61DAD537
P 3900 1550
F 0 "R2" H 4000 1650 50  0000 L CNN
F 1 "1k" H 4000 1450 50  0000 L CNN
F 2 "" V 3940 1540 50  0001 C CNN
F 3 "~" H 3900 1550 50  0001 C CNN
	1    3900 1550
	1    0    0    -1  
$EndComp
$Comp
L Device:R_US R1
U 1 1 61DBDEB0
P 3400 2600
F 0 "R1" V 3605 2600 50  0000 C CNN
F 1 "6.8k" V 3514 2600 50  0000 C CNN
F 2 "" V 3440 2590 50  0001 C CNN
F 3 "~" H 3400 2600 50  0001 C CNN
	1    3400 2600
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3000 2600 3250 2600
$Comp
L power:GNDREF #PWR?
U 1 1 61DBDEBD
P 2100 3150
F 0 "#PWR?" H 2100 2900 50  0001 C CNN
F 1 "GNDREF" H 2105 2977 50  0001 C CNN
F 2 "" H 2100 3150 50  0001 C CNN
F 3 "" H 2100 3150 50  0001 C CNN
	1    2100 3150
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 61DBDECF
P 2100 1950
F 0 "#PWR?" H 2100 1800 50  0001 C CNN
F 1 "+3.3V" H 2115 2123 50  0000 C CNN
F 2 "" H 2100 1950 50  0001 C CNN
F 3 "" H 2100 1950 50  0001 C CNN
	1    2100 1950
	1    0    0    -1  
$EndComp
Wire Wire Line
	2600 2500 2100 2500
Wire Wire Line
	2100 2500 2100 2350
Wire Wire Line
	2600 2700 2100 2700
Wire Wire Line
	2100 2700 2100 2750
$Comp
L Device:D_Schottky D1
U 1 1 61DC0D35
P 2100 2200
F 0 "D1" V 2146 2120 50  0000 R CNN
F 1 "Schottky" V 2050 2650 50  0001 R CNN
F 2 "" H 2100 2200 50  0001 C CNN
F 3 "~" H 2100 2200 50  0001 C CNN
	1    2100 2200
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2100 1950 2100 2050
Text Notes 2450 2950 0    50   ~ 0
SPDT == GPIO pin
Wire Wire Line
	3550 2600 3900 2600
Wire Wire Line
	3900 1700 3900 1800
Wire Wire Line
	3900 1250 3900 1400
$Comp
L power:+5V #PWR?
U 1 1 61DF9556
P 3900 1250
F 0 "#PWR?" H 3900 1100 50  0001 C CNN
F 1 "+5V" H 3915 1423 50  0000 C CNN
F 2 "" H 3900 1250 50  0001 C CNN
F 3 "" H 3900 1250 50  0001 C CNN
	1    3900 1250
	1    0    0    -1  
$EndComp
$Comp
L Device:Voltmeter_DC MES_4
U 1 1 61E5E12E
P 5900 2600
F 0 "MES_4" H 6053 2646 50  0000 L CNN
F 1 "VCE 418.47 mV" H 6053 2555 50  0000 L CNN
F 2 "" V 5900 2700 50  0001 C CNN
F 3 "~" V 5900 2700 50  0001 C CNN
	1    5900 2600
	1    0    0    -1  
$EndComp
Wire Wire Line
	5900 2400 5900 2300
Wire Wire Line
	5900 2300 5150 2300
Wire Wire Line
	5900 2800 5900 2900
Wire Wire Line
	5900 2900 5150 2900
Connection ~ 5150 2300
Wire Wire Line
	5150 2300 5150 2400
Connection ~ 5150 2900
Wire Wire Line
	5150 2900 5150 3100
$Comp
L Switch:SW_SPDT SW1
U 1 1 61DBDEB6
P 2800 2600
F 0 "SW1" H 2600 2400 50  0000 C CNN
F 1 "SW_SPDT" H 2750 3600 50  0001 C CNN
F 2 "" H 2800 2600 50  0001 C CNN
F 3 "~" H 2800 2600 50  0001 C CNN
	1    2800 2600
	-1   0    0    1   
$EndComp
$Comp
L Device:R_POT_US RV1
U 1 1 61F13E8C
P 3900 2050
F 0 "RV1" H 4100 2200 50  0000 R CNN
F 1 "1k" H 4050 1950 50  0000 R CNN
F 2 "" H 3900 2050 50  0001 C CNN
F 3 "~" H 3900 2050 50  0001 C CNN
	1    3900 2050
	1    0    0    -1  
$EndComp
Wire Wire Line
	4050 2050 4200 2050
Wire Wire Line
	4200 1800 3900 1800
Connection ~ 3900 1800
Wire Wire Line
	3900 1800 3900 1900
Wire Wire Line
	4200 2050 4200 1800
Text Notes 4250 2150 0    50   Italic 0
668\n- -\n332
$Comp
L Device:Amperemeter_DC MES_7
U 1 1 61F749E8
P 2350 5000
F 0 "MES_7" H 2550 5050 50  0000 L CNN
F 1 "248.373 uA" H 1750 4950 50  0000 L CNN
F 2 "" V 2350 5100 50  0001 C CNN
F 3 "~" V 2350 5100 50  0001 C CNN
	1    2350 5000
	1    0    0    -1  
$EndComp
$Comp
L Device:Amperemeter_DC MES_8
U 1 1 61F93748
P 2350 5700
F 0 "MES_8" H 2550 5750 50  0000 L CNN
F 1 "-4.854 pA" H 1750 5650 50  0000 L CNN
F 2 "" V 2350 5800 50  0001 C CNN
F 3 "~" V 2350 5800 50  0001 C CNN
	1    2350 5700
	1    0    0    -1  
$EndComp
$Comp
L Device:Amperemeter_DC MES_1
U 1 1 61F9B635
P 2100 2950
F 0 "MES_1" H 1700 2900 50  0000 L CNN
F 1 "637.692 uA" H 1550 3100 50  0000 L CNN
F 2 "" V 2100 3050 50  0001 C CNN
F 3 "~" V 2100 3050 50  0001 C CNN
	1    2100 2950
	1    0    0    -1  
$EndComp
Text Notes 2150 2450 0    50   Italic 0
171.435 nA
Wire Wire Line
	3900 2600 4850 2600
Connection ~ 3900 2600
Text Notes 4300 2750 0    50   Italic 0
  139.31 uA\n\n(just saturated)
Wire Wire Line
	3600 5350 3850 5350
$Comp
L Device:Amperemeter_DC MES_6
U 1 1 62053A23
P 5150 4300
F 0 "MES_6" H 5350 4350 50  0000 L CNN
F 1 "13.931 mA" H 5350 4200 50  0000 L CNN
F 2 "" V 5150 4400 50  0001 C CNN
F 3 "~" V 5150 4400 50  0001 C CNN
	1    5150 4300
	1    0    0    -1  
$EndComp
$Comp
L Device:Amperemeter_DC MES_11
U 1 1 62071491
P 4450 6450
F 0 "MES_11" H 4700 6500 50  0000 L CNN
F 1 "14.179 mA" H 4650 6350 50  0000 L CNN
F 2 "" V 4450 6550 50  0001 C CNN
F 3 "~" V 4450 6550 50  0001 C CNN
	1    4450 6450
	1    0    0    -1  
$EndComp
Connection ~ 3850 5350
$EndSCHEMATC
